# Chrome æ–°æ ‡ç­¾é¡µä»ªè¡¨ç›˜

> Vue 3 + TypeScript å¼€å‘çš„ Chrome æµè§ˆå™¨æ‰©å±•ï¼Œæä¾›å¤©æ°”æ˜¾ç¤ºå’Œå·¥ä½œç»Ÿè®¡åŠŸèƒ½

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ¤ï¸ **å¤©æ°”æ˜¾ç¤º** - ä½¿ç”¨å’Œé£å¤©æ°” API æ˜¾ç¤ºå®æ—¶å¤©æ°”ä¿¡æ¯ï¼ˆæ”¯æŒ API Key å’Œ JWT åŒè®¤è¯ï¼‰
- ğŸ’¼ **å·¥ä½œç»Ÿè®¡** - å®æ—¶è®¡ç®—ä»Šæ—¥æ”¶å…¥ã€ä¸‹ç­å€’è®¡æ—¶ã€å‘è–ªæ—¥å€’è®¡æ—¶
- âš™ï¸ **å¯é…ç½®è®¾ç½®** - çµæ´»çš„è®¾ç½®é¡µé¢ï¼Œå¯è§†åŒ–é…ç½®æ‰€æœ‰åŠŸèƒ½
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - åŸºäº Vue 3 çš„å“åº”å¼è®¾è®¡
- ğŸ”’ **éšç§ä¿æŠ¤** - æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3.4 + TypeScript 5.3
- **æ„å»ºå·¥å…·**: Vite 5.0
- **æ‰©å±•æ’ä»¶**: @crxjs/vite-plugin 2.0
- **æ‰©å±•ç‰ˆæœ¬**: Manifest V3
- **å¤©æ°”æœåŠ¡**: å’Œé£å¤©æ°” V7 API
- **ä»£ç è§„èŒƒ**: ESLint + Prettier

## å®‰è£…ä½¿ç”¨

### å¼€å‘æ¨¡å¼

1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yourusername/chrome-newtab-dashboard.git
cd chrome-newtab-dashboard
```

2. å®‰è£…ä¾èµ–
```bash
npm install
```

3. é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥ä½ çš„å’Œé£å¤©æ°” API Keyï¼š
```bash
cp .env.example .env
```

4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

5. åœ¨ Chrome ä¸­åŠ è½½æ‰©å±•
   - æ‰“å¼€ `chrome://extensions/`
   - å¯ç”¨"å¼€å‘è€…æ¨¡å¼"
   - ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
   - é€‰æ‹©é¡¹ç›®çš„ `dist` ç›®å½•

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

æ„å»ºå®Œæˆåï¼Œåœ¨ `chrome://extensions/` ä¸­åŠ è½½ `dist` ç›®å½•ã€‚

## é…ç½®è¯´æ˜

### å¤©æ°”é…ç½®

1. æ³¨å†Œå’Œé£å¤©æ°”å¼€å‘è€…è´¦å·: https://dev.qweather.com/
2. è·å– API Keyï¼ˆå…è´¹ç‰ˆ 1000 æ¬¡/å¤©ï¼‰
3. åœ¨æ‰©å±•è®¾ç½®ä¸­å¡«å…¥ API Key å’ŒåŸå¸‚åç§°

## é¡¹ç›®ç»“æ„

```
chrome-newtab-dashboard/
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ icons/                   # æ‰©å±•å›¾æ ‡
â”‚   â”œâ”€â”€ manifest.json           # æ‰©å±•é…ç½®ï¼ˆæ„å»ºåï¼‰
â”‚   â””â”€â”€ jwt-test.html           # JWT æµ‹è¯•å·¥å…·
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ background/              # åå°æœåŠ¡ï¼ˆService Workerï¼‰
â”‚   â”‚   â”œâ”€â”€ index.ts            # ä¸»å…¥å£
â”‚   â”‚   â”œâ”€â”€ storage.ts          # Chrome Storage å°è£…
â”‚   â”‚   â””â”€â”€ weather.ts          # å’Œé£å¤©æ°” JWT ç”Ÿæˆ
â”‚   â”œâ”€â”€ newtab/                  # æ–°æ ‡ç­¾é¡µç•Œé¢
â”‚   â”‚   â”œâ”€â”€ components/         # å¡ç‰‡ç»„ä»¶ï¼ˆå¤©æ°”ã€å·¥ä½œï¼‰
â”‚   â”‚   â””â”€â”€ styles/             # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ options/                 # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ popup/                   # å¼¹å‡ºçª—å£
â”‚   â””â”€â”€ shared/                  # å…±äº«ä»£ç 
â”‚       â”œâ”€â”€ api/                # API å°è£…
â”‚       â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ manifest.config.ts           # Manifest V3 é…ç½®æºæ–‡ä»¶
â”œâ”€â”€ .env.example                 # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â””â”€â”€ vite.config.ts               # Vite æ„å»ºé…ç½®
```

## å¼€å‘å‘½ä»¤

```bash
npm run dev       # å¼€å‘æ¨¡å¼ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
npm run build     # ç”Ÿäº§æ„å»º
npm run preview   # é¢„è§ˆæ„å»ºç»“æœ
npm run lint      # ä»£ç æ£€æŸ¥
npm run lint:fix  # è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜
npm run format    # ä»£ç æ ¼å¼åŒ–
```

## å¸¸è§é—®é¢˜

### Q: å¤©æ°”ä¸æ˜¾ç¤º?
A: è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æ˜¯å¦æ­£ç¡®é…ç½®äº†å’Œé£å¤©æ°” API Key æˆ– JWT
2. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. API è°ƒç”¨æ¬¡æ•°æ˜¯å¦è¶…é™ï¼ˆå…è´¹ç‰ˆ 1000 æ¬¡/å¤©ï¼‰

### Q: JWT è®¤è¯å¦‚ä½•é…ç½®?
A:
1. ç”Ÿæˆ Ed25519 å¯†é’¥å¯¹ï¼š`openssl genpkey -algorithm Ed25519 -out ed25519-private.pem`
2. æå–å…¬é’¥ï¼š`openssl pkey -in ed25519-private.pem -pubout -out ed25519-public.pem`
3. åœ¨ `.env` ä¸­é…ç½® API ID å’Œç§é’¥è·¯å¾„
4. å‚è€ƒ `public/jwt-test.html` æµ‹è¯• JWT ç”Ÿæˆ

## éšç§æ”¿ç­–

æœ¬æ‰©å±•ï¼š
- ä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯
- æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°

## è®¸å¯è¯

[MIT License](LICENSE)

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è‡´è°¢

- [å’Œé£å¤©æ°”](https://www.qweather.com/) - å¤©æ°”æ•°æ®æ”¯æŒ
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·
